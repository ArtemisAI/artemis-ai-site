# BizAssist â€“ AI-Powered Small Business Dashboard

Your **intelligent command center** for sales, task management, and automated customer outreach. BizAssist combines a conversational interface, real-time KPIs, and n8n-powered workflows so owners can focus on growing the business â€“ not wrestling with spreadsheets.

---

## Table of Contents
1. Key Features
2. System Architecture
3. Tech Stack
4. Data Model
5. API Surface
6. n8n Workflows
7. Getting Started
8. Local Development
9. Deployment (Render + Docker-Compose)
10. Roadmap & Stretch Goals

---

## 1. Key Features  â­

â€¢ **Chat-Driven Insights** â€“ Ask â€œHow were coffee bean sales this month vs. last?â€ and get a natural-language summary with inline charts.

â€¢ **KPI Dashboard** â€“ Cards for revenue, orders, and overdue tasks update in near real-time via WebSockets.

â€¢ **Task Automation** â€“ Create reminders in chat (`/remind pay rent next Friday`) that kick off an n8n flow to email / SMS.

â€¢ **Smart Alerts** â€“ Low inventory or sluggish sales trigger push-notifications generated by the MCP service.

â€¢ **Secure Multi-Tenant** â€“ Owners invite staff, each tenant is siloed with row-level Postgres security.

â€¢ **Mobile-First** â€“ PWA install prompt; offline cache for last 24 h of analytics.

---

## 2. System Architecture  ğŸ—ï¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        HTTPS         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶   â”‚  Next.js Front-end   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  (REST & WS)        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚Server-Side Props
                                             â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚  Express / API Tier  â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚ gRPC / REST
                                            â–¼
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚  MCP Service (business-logic)â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚        â”‚
                                        â”‚        â”œâ”€â”€â–¶  Ollama LLM
                                        â”‚        â”‚     (analytics & NL)
                                        â”‚        â”‚
                                        â””â”€â”€â–¶  PostgreSQL
                                               (row-level tenant data)

         n8n Webhooks  â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         (tasks / alerts)
```

Key paths:
â€¢ **/api/chat** â€“ Streams chat responses (LLM + MCP)
â€¢ **/api/kpi** â€“ Aggregated sales endpoints (cached)
â€¢ **/websocket** â€“ Real-time metric updates

---

## 3. Tech Stack  ğŸ› ï¸

Frontend  | Backend        | Data                  | AI          | Automation | DevOps
:---------|:---------------|:----------------------|:------------|:-----------|:---------
Next.js 14 (app router) | Node.js + Express | PostgreSQL 15 + pgvector | Ollama (Llama-3) | n8n self-host | Docker Compose, Render
Tailwind + shadcn/ui | Zod / tRPC types | Prisma ORM | LangChainJS wrappers | Twilio, SendGrid | GitHub Actions (CI)

---

## 4. Data Model  ğŸ—„ï¸

Table | Purpose | Fields (essential)
------|---------|--------------------
`users` | auth & profile | id (PK), tenant_id, email, password_hash, role
`sales` | transactions   | id, tenant_id, date, amount, product_id, channel
`tasks` | reminders      | id, tenant_id, title, due_at, completed
`conversations` | chat logs | id, tenant_id, user_id, created_at
`messages` | chat messages | id, conversation_id, role, content, tokens

Vector search uses `pgvector` column on `messages` for rapid semantic recall.

---

## 5. API Surface  ğŸ“¡

Endpoint | Verb | Auth | Description
---------|------|------|-------------
`/api/chat` | POST (SSE) | JWT | Streams LLM reply; body: `{prompt}`
`/api/kpi/summary?range=month` | GET | JWT | JSON with totals / deltas
`/api/task` | CRUD | JWT | Manage tasks (create from chat or UI)
`/api/webhook/n8n/:flowId` | POST | HMAC | Receive completion callbacks

Detailed OpenAPI spec lives in `/bizAssist/openapi.yaml` (to be generated).

---

## 6. n8n Workflows  âš™ï¸

1. **Reminder Flow** â€“ Triggered by `task.created` webhook â†’ format message â†’ Twilio SMS.
2. **Weekly Digest** â€“ Cron â†’ query `/api/kpi/summary?range=week` â†’ SendGrid email.
3. **Low-Stock Alert** â€“ Webhook from MCP (`/api/webhook/n8n/stock`) â†’ Slack channel.

Each webhook URL is stored in environment variable (`N8N_WEBHOOK_URL_*`).

---

## 7. Getting Started  ğŸš€

Prerequisites:
â€¢ Node 20+â€ƒâ€¢ Docker & Docker-Composeâ€ƒâ€¢ pnpm (or npm/yarn)

```bash
git clone https://github.com/ArtemisAI/Artemis_Web_Portfolio
cd bizAssist
cp .env.example .env            # fill DB creds, JWT_SECRET, etc.
docker compose up -d database n8n ollama
pnpm i
pnpm dev                        # dev server on http://localhost:3000
```

Seed sample data:
```bash
pnpm prisma migrate dev --name init
pnpm prisma db seed
```

---

## 8. Local Development  ğŸ§‘â€ğŸ’»

Task | Script
-----|--------
Run lint & type-check | `pnpm lint && pnpm typecheck`
Unit tests (Vitest)   | `pnpm test`
Storybook             | `pnpm storybook`
Generate OpenAPI      | `pnpm openapi`

PRs must pass checks enforced by the root **pre-commit** config (eslint, prettier, commit-lint).

---

## 9. Deployment  â˜ï¸

1. **Render Web Service** â€“ points to `/bizAssist` folder.
2. Add **Render PostgreSQL** add-on.
3. Fill env vars (see `.env.example`).
4. Auto-deploy from `main`.

`docker-compose.prod.yml` can be used for on-prem or other cloud providers.

---

## 10. Roadmap  ğŸ›£ï¸

â€¢ OAuth (Google / Microsoft)
â€¢ Multi-currency support
â€¢ Predictive analytics using time-series forecasting
â€¢ Voice command integration (Web Speech API)

â€“â€“â€“

Built with â¤ï¸ by Artemis.
